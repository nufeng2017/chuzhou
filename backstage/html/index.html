<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../src/layui/css/layui.css" />
	</head>

	<body style="padding-top: 100px;">
		<form class="layui-form" action="">
			<div class="layui-form-item">
				<div class="layui-inline">
					<label class="layui-form-label">姓名</label>
					<div class="layui-input-inline">
						<input type="text" name="number" lay-verify="required|number" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">身份证号</label>
					<div class="layui-input-inline">
						<input type="text" name="number" lay-verify="required|number" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">验证日期</label>
					<div class="layui-input-inline">
						<input type="text" name="date" id="date" lay-verify="date" placeholder="yyyy-MM-dd" autocomplete="off" class="layui-input">
					</div>
				</div>
				<div class="layui-inline">
					<label class="layui-form-label">手机号码</label>
					<div class="layui-input-inline">
						<input type="tel" name="url" lay-verify="url" autocomplete="off" class="layui-input">
					</div>
				</div>
			</div>
			<div class="layui-form-item">
			    <div class="layui-input-block">
			      	<button type="button" class="layui-btn layui-btn-normal" id="LAY-component-form-getval">导出</button>
			      	<button type="submit" class="layui-btn" lay-submit="" lay-filter="demo1">查询</button>
			    </div>
			</div>
		</form>
		<table class="layui-hide" id="test" lay-filter="test"></table>
		<script type="text/html" id="barDemo">
			<a class="layui-btn layui-btn-xs" lay-event="edit">修改</a>
		</script>
		<script src="../src/layui/layui.js" charset="utf-8"></script>
		<script>
			layui.use(['table','form', 'layedit', 'laydate'], function() {
				var table = layui.table;
				var form = layui.form,layer = layui.layer,layedit = layui.layedit,laydate = layui.laydate;
				//日期
			  	laydate.render({
			    	elem: '#date'
			  	});
				table.render({
					elem: '#test',
					url: '/test/table/demo1.json',
					title: '用户数据表',
					cols: [
						[{
							field: 'sort',
							title: '序号',
							width: 80,
							fixed: 'left',
							unresize: true,
							sort: true
						}, {
							field: 'username',
							title: '姓名',
							width: 120,
							edit: 'text'
						}, {
							field: 'id',
							title: '身份证号',
							width: 250,
							edit: 'text',
							templet: function(res) {
								return '<em>' + res.email + '</em>'
							}
						}, {
							field: 'time',
							title: '预约时间',
							width: 250,
							edit: 'text',
							sort: true
						}, {
							field: 'phone',
							title: '手机号码',
							width: 150
						}, {
							field: 'status',
							title: '状态',
							width: 100
						}, {
							field: 'remarksInfo',
							title: '备注信息',
							width: 100
						}, {
							field: 'submitTime',
							title: '提交时间',
							width: 250
						}, {
							field: 'remarks',
							title: '备注',
							width: 300
						}, {
							fixed: 'right',
							title: '操作',
							toolbar: '#barDemo',
							width: 150
						}]
					],
					page: true
				});

				//监听行工具事件
				table.on('tool(test)', function(obj) {
					var data = obj.data;
					//console.log(obj)
					if(obj.event === 'edit') {
						layer.prompt({
							formType: 2,
							value: data.email
						}, function(value, index) {
							obj.update({
								email: value
							});
							layer.close(index);
						});
					}
				});
			});
		</script>
	</body>

</html>